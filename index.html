<!DOCTYPE html>
<html>
	<title>javi</title>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
		<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
		 
		<script type="text/javascript" charset="utf-8" src="js/cordova.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/PushNotification.js"></script>
        
		<script type="text/javascript" charset="utf-8">
			// Add to index.js or the first page that loads with your app.
			// For Intel XDK and please add this to your app.js.

			document.addEventListener('deviceready', function () {
			  // Enable to debug issues.
			  // window.plugins.OneSignal.setLogLevel({logLevel: 4, visualLevel: 4});
  
			  var notificationOpenedCallback = function(jsonData) {
				console.log('didReceiveRemoteNotificationCallBack: ' + JSON.stringify(jsonData));
				alert('didReceiveRemoteNotificationCallBack: ' + JSON.stringify(jsonData));
			  };

			  window.plugins.OneSignal.init("3aabf1df-f401-48d2-9e20-e5c8669ff254",
											 {googleProjectNumber: "627825968483"},
											 notificationOpenedCallback);
  
			  // Show an alert box if a notification comes in when the user is in your app.
			  window.plugins.OneSignal.enableInAppAlertNotification(true);
			}, false);
    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Cordova is ready
    //
    function onDeviceReady() {
        navigator.geolocation.getCurrentPosition(onSuccess, onError);
    }

    // onSuccess Geolocation
    //
    function onSuccess(position) {
        var element = document.getElementById('geolocation');
        element.innerHTML = 'Latitude: '           + position.coords.latitude              + '<br />' +
                            'Longitude: '          + position.coords.longitude             + '<br />' +
                            'Altitude: '           + position.coords.altitude              + '<br />' +
                            'Accuracy: '           + position.coords.accuracy              + '<br />' +
                            'Altitude Accuracy: '  + position.coords.altitudeAccuracy      + '<br />' +
                            'Heading: '            + position.coords.heading               + '<br />' +
                            'Speed: '              + position.coords.speed                 + '<br />' +
                            'Timestamp: '          +                                   position.timestamp          + '<br />';
    }

    // onError Callback receives a PositionError object
    //
    function onError(error) {
        alert('code: '    + error.code    + '\n' +
                'message: ' + error.message + '\n');
    }

    </script>
	</head>
	<body>

<!-- Start of first page -->
<div data-role="page" id="foo">

	<div data-role="header">
		<h1>Foo</h1>
	</div><!-- /header -->

	<div data-role="content">
    <p id="geolocation">Finding geolocation...</p>

		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet tellus varius eros faucibus vel porttitor sapien eleifend. Vestibulum vulputate, tellus sed auctor venenatis, magna augue malesuada arcu, quis tempus augue ante in nibh. Phasellus viverra, nisl sit amet scelerisque malesuada, orci quam luctus nibh, sed dapibus sem nulla vel sapien. Nulla facilisi. Sed ornare quam vel quam tincidunt imperdiet. Nullam vehicula porttitor lacus ac commodo. Ut est odio, fringilla ut laoreet posuere, hendrerit quis mauris. Maecenas sem leo, pretium in faucibus non, lobortis euismod odio. Pellentesque et lacus mi, a convallis turpis. Integer mattis condimentum eros nec malesuada. Nam sed enim condimentum elit posuere scelerisque. Vestibulum tincidunt, sem ut iaculis accumsan, dolor nibh dignissim sem, eget venenatis elit velit at nunc. Mauris sit amet felis ligula. Etiam accumsan ipsum vitae erat porttitor aliquam a ut arcu. Ut ac tellus ac nisl tristique bibendum. Ut consectetur ultricies ligula at tempus. </p>
        
		<p>View internal page called <a href="#bar" data-transition="flip">bar</a></p>
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->

<!-- Start of second page -->
<div data-role="page" id="bar">

	<div data-role="header">
		<h1>Bar</h1>
	</div><!-- /header -->

	<div data-role="content">
		<p>I'm the second in the source order so I'm hidden when the page loads. I'm just shown if a link that references my id is beeing clicked.</p>
		<p><a href="#foo" data-transition="flip">Back to foo</a></p>
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->
</body>
</html>